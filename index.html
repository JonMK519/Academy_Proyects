<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Business Case Analyzer Pro - Professional Financial Analysis Tool</title>
    <link rel="stylesheet" href="styles.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/3.7.1/chart.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.4.0/jspdf.umd.min.js"></script>
</head>
<body>
    <!-- Header -->
    <header>
        <h1>üíº Business Case Analyzer Pro</h1>
        <p>Professional Financial Analysis & ROI Calculator</p>
    </header>

    <main>
        <!-- Dashboard with Key Metrics -->
        <section>
            <h2>üìä Financial Dashboard</h2>
            <div class="dashboard" id="dashboard">
                <div class="metric-card success">
                    <div class="metric-label">ROI (Return on Investment)</div>
                    <div class="metric-value" id="roi-value">0%</div>
                    <div class="metric-change" id="roi-status">Enter data to calculate</div>
                </div>
                <div class="metric-card info">
                    <div class="metric-label">NPV (Net Present Value)</div>
                    <div class="metric-value" id="npv-value">$0</div>
                    <div class="metric-change" id="npv-status">Discounted cash flow</div>
                </div>
                <div class="metric-card warning">
                    <div class="metric-label">Payback Period</div>
                    <div class="metric-value" id="payback-value">0</div>
                    <div class="metric-change">months to break even</div>
                </div>
                <div class="metric-card">
                    <div class="metric-label">IRR (Internal Rate of Return)</div>
                    <div class="metric-value" id="irr-value">0%</div>
                    <div class="metric-change">Annualized return rate</div>
                </div>
            </div>
        </section>

        <!-- Project Data Entry Form -->
        <section>
            <h2>üìù Project Information</h2>
            <form id="projectForm">
                <div class="form-grid">
                    <div class="form-group">
                        <label for="projectName">Project Name *</label>
                        <input type="text" id="projectName" placeholder="e.g., Digital Transformation" required>
                    </div>
                    <div class="form-group">
                        <label for="initialInvestment">Initial Investment ($) *</label>
                        <input type="number" id="initialInvestment" placeholder="100000" min="0" step="1000" required>
                    </div>
                    <div class="form-group">
                        <label for="discountRate">Discount Rate (%) *</label>
                        <input type="number" id="discountRate" placeholder="10" min="0" max="100" step="0.1" value="10" required>
                    </div>
                    <div class="form-group">
                        <label for="projectDuration">Project Duration (months) *</label>
                        <input type="number" id="projectDuration" placeholder="24" min="1" max="120" value="24" required>
                    </div>
                </div>

                <h3 style="margin-top: 20px; color: var(--primary-color);">üí∞ Revenue Projections</h3>
                <div class="form-grid">
                    <div class="form-group">
                        <label for="yearlyRevenue">Annual Revenue Increase ($) *</label>
                        <input type="number" id="yearlyRevenue" placeholder="50000" min="0" step="1000" required>
                    </div>
                    <div class="form-group">
                        <label for="revenueGrowth">Revenue Growth Rate (% per year)</label>
                        <input type="number" id="revenueGrowth" placeholder="5" min="0" max="100" step="0.1" value="0">
                    </div>
                </div>

                <h3 style="margin-top: 20px; color: var(--primary-color);">üí∏ Cost Projections</h3>
                <div class="form-grid">
                    <div class="form-group">
                        <label for="operatingCosts">Annual Operating Costs ($)</label>
                        <input type="number" id="operatingCosts" placeholder="20000" min="0" step="1000" value="0">
                    </div>
                    <div class="form-group">
                        <label for="maintenanceCosts">Annual Maintenance Costs ($)</label>
                        <input type="number" id="maintenanceCosts" placeholder="5000" min="0" step="1000" value="0">
                    </div>
                </div>

                <h3 style="margin-top: 20px; color: var(--primary-color);">üìà Scenario Analysis</h3>
                <div class="form-grid">
                    <div class="form-group">
                        <label for="bestCaseMultiplier">Best Case Multiplier</label>
                        <input type="number" id="bestCaseMultiplier" placeholder="1.3" min="1" max="3" step="0.1" value="1.3">
                    </div>
                    <div class="form-group">
                        <label for="worstCaseMultiplier">Worst Case Multiplier</label>
                        <input type="number" id="worstCaseMultiplier" placeholder="0.7" min="0.1" max="1" step="0.1" value="0.7">
                    </div>
                </div>

                <div class="button-group">
                    <button type="submit" class="btn-primary">
                        üßÆ Calculate Analysis
                    </button>
                    <button type="button" class="btn-secondary" onclick="resetForm()">
                        üîÑ Reset Form
                    </button>
                </div>
            </form>
            <div id="formMessage" class="hidden"></div>
        </section>

        <!-- Charts Section with Tabs -->
        <section>
            <h2>üìà Visual Analytics</h2>
            <div class="tabs">
                <button class="tab active" onclick="switchTab('cashflow')">Cash Flow Over Time</button>
                <button class="tab" onclick="switchTab('roi')">ROI Comparison</button>
                <button class="tab" onclick="switchTab('scenarios')">Scenario Analysis</button>
            </div>

            <div id="cashflow-tab" class="tab-content active">
                <div class="chart-container">
                    <canvas id="cashflowChart"></canvas>
                </div>
            </div>

            <div id="roi-tab" class="tab-content">
                <div class="chart-container">
                    <canvas id="roiChart"></canvas>
                </div>
            </div>

            <div id="scenarios-tab" class="tab-content">
                <div class="chart-container">
                    <canvas id="scenariosChart"></canvas>
                </div>
            </div>
        </section>

        <!-- Scenario Comparison Cards -->
        <section>
            <h2>üéØ Scenario Comparison</h2>
            <div class="scenario-grid" id="scenarioGrid">
                <div class="scenario-card expected">
                    <div class="scenario-title">üìä Expected Case</div>
                    <div class="scenario-metrics">
                        <div class="scenario-metric">
                            <span>ROI:</span>
                            <strong id="expected-roi">0%</strong>
                        </div>
                        <div class="scenario-metric">
                            <span>NPV:</span>
                            <strong id="expected-npv">$0</strong>
                        </div>
                        <div class="scenario-metric">
                            <span>Payback:</span>
                            <strong id="expected-payback">0 months</strong>
                        </div>
                    </div>
                </div>

                <div class="scenario-card best">
                    <div class="scenario-title">üöÄ Best Case</div>
                    <div class="scenario-metrics">
                        <div class="scenario-metric">
                            <span>ROI:</span>
                            <strong id="best-roi">0%</strong>
                        </div>
                        <div class="scenario-metric">
                            <span>NPV:</span>
                            <strong id="best-npv">$0</strong>
                        </div>
                        <div class="scenario-metric">
                            <span>Payback:</span>
                            <strong id="best-payback">0 months</strong>
                        </div>
                    </div>
                </div>

                <div class="scenario-card worst">
                    <div class="scenario-title">‚ö†Ô∏è Worst Case</div>
                    <div class="scenario-metrics">
                        <div class="scenario-metric">
                            <span>ROI:</span>
                            <strong id="worst-roi">0%</strong>
                        </div>
                        <div class="scenario-metric">
                            <span>NPV:</span>
                            <strong id="worst-npv">$0</strong>
                        </div>
                        <div class="scenario-metric">
                            <span>Payback:</span>
                            <strong id="worst-payback">0 months</strong>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Smart Recommendations -->
        <section>
            <h2>üí° Smart Recommendations</h2>
            <div class="recommendations" id="recommendations">
                <p style="color: #718096;">Complete the form and calculate to receive intelligent recommendations based on your business case analysis.</p>
            </div>
        </section>

        <!-- Export Options -->
        <section class="text-center">
            <h2>üìÑ Export Report</h2>
            <p style="color: #718096; margin-bottom: 20px;">Generate a comprehensive PDF report with all metrics, charts, and recommendations.</p>
            <button class="btn-export" onclick="exportToPDF()">
                üì• Export Complete Report to PDF
            </button>
        </section>
    </main>

    <!-- Loading Overlay -->
    <div id="loadingOverlay" class="loading-overlay hidden">
        <div class="loading-spinner"></div>
    </div>

    <script src="app.js"></script>
</body>
</html>